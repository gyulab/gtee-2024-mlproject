module emode_verilogA (d, g, s);
inout d, g, s;
electrical d, g, s;

//****** Parameters L and W ********
parameter real W = 0.1;
parameter real Temperature = 25;
parameter MinVg = -6.0 ;
parameter normVg = 0.05555555555555555 ;
parameter MinVd = 0.05 ;
parameter normVd = 0.08368200836820085 ;
parameter MinTemperature = 25 ;
parameter normTemperature = 0.016666666666666666 ;
parameter MinI = -10.748600281214967 ;
parameter normI =0.15112898661371651;
real Vg, Vd, Vs, Vgs, Vds, Lg, Id, Cgg, Cgsd, Vgd;
real Vgsraw, Vgdraw, dir;

analog begin
	Vg = V(g);
	Vs = V(s);
	Vd = V(d);
    Vgsraw = Vg-Vs ;
    Vgdraw = Vg-Vd ;
if (Vgsraw>=Vgdraw) begin
	Vgs = ((Vg-Vs) - MinVg) * normVg ;
    dir = 1 ;
end
else begin
	Vgs = ((Vg-Vd) - MinVg) * normVg ;
    dir = -1 ;
end
	Vds = (abs(Vd-Vs) - MinVd) * normVd ;
    Temperature = (Temperature - MinTemperature) * normTemperature ;



h1_0 = tanh(0.6071721*Vgs+0.4608912*Vds+0.1959159*temp+-0.4839231);
h1_1 = tanh(-0.50796235*Vgs+-0.632646*Vds+0.09821596*temp+0.2583655);
h1_2 = tanh(1.7767168*Vgs+0.03226727*Vds+-0.90660155*temp+-0.57665056);
h1_3 = tanh(-0.5376799*Vgs+-4.530107*Vds+0.11207917*temp+0.041092418);
h1_4 = tanh(-2.4705563*Vgs+-0.13891856*Vds+-0.028885836*temp+0.7397615);
h1_5 = tanh(0.7544405*Vgs+0.026874345*Vds+0.05894748*temp+-0.2832296);
h1_6 = tanh(0.0016091809*Vgs+-5.2311634e-07*Vds+0.000965105*temp+0.00036597025);
h1_7 = tanh(-0.2988075*Vgs+26.749313*Vds+0.9351933*temp+0.47863102);
h1_8 = tanh(2.7634637*Vgs+0.426782*Vds+0.134769*temp+-0.9160525);
h1_9 = tanh(0.110941336*Vgs+38.261192*Vds+-0.11028513*temp+0.21628654);
h1_10 = tanh(0.8563824*Vgs+0.23180172*Vds+-0.26493964*temp+0.14684582);
h1_11 = tanh(-3.04848*Vgs+0.43904188*Vds+-0.0006919122*temp+0.49183616);
h1_12 = tanh(-3.2520387*Vgs+0.33633405*Vds+-0.11460191*temp+0.5217345);
h1_13 = tanh(-0.55903506*Vgs+4.52764*Vds+-0.17992932*temp+0.67051166);
h1_14 = tanh(3.5262098*Vgs+-0.11916177*Vds+0.40303224*temp+-0.46076646);
h1_15 = tanh(0.6958022*Vgs+-0.18869677*Vds+0.0037203836*temp+-0.16984075);
h1_16 = tanh(0.7568701*Vgs+-0.44332168*Vds+-0.2269789*temp+-0.35328826);
h1_17 = tanh(0.3548658*Vgs+-0.19719495*Vds+0.06583434*temp+-0.06257884);
h1_18 = tanh(-0.3289856*Vgs+0.13903312*Vds+-0.08684512*temp+0.096485004);
h1_19 = tanh(-1.6884847*Vgs+0.1265961*Vds+-0.506331*temp+0.80771935);
h1_20 = tanh(2.4214063*Vgs+0.43671057*Vds+0.21828635*temp+-0.81175375);
h1_21 = tanh(-0.33964038*Vgs+2.4528968*Vds+0.55716753*temp+0.3055388);
h1_22 = tanh(0.29996422*Vgs+-1.0073135*Vds+0.30674967*temp+-0.3714141);
h1_23 = tanh(-2.83331*Vgs+0.37714145*Vds+0.3764137*temp+0.7528355);
h1_24 = tanh(0.7795991*Vgs+-0.061093766*Vds+0.1369813*temp+-0.3211534);

h2_0 = tanh(-0.49205855*h1_0+0.3335701*h1_1+-0.07141086*h1_2+0.17643683*h1_3+-0.17541665*h1_4+-0.29874575*h1_5+0.0036537345*h1_6+-0.24988316*h1_7+0.647205*h1_8+-0.32326868*h1_9+-0.3713057*h1_10+-0.8565192*h1_11+-0.9355974*h1_12+-0.5490957*h1_13+0.93225807*h1_14+0.15524174*h1_15+0.6160943*h1_16+-0.34689748*h1_17+0.2663655*h1_18+0.29942745*h1_19+0.26422945*h1_20+-0.7395749*h1_21+0.58316135*h1_22+-0.016218387*h1_23+-0.09418786*h1_24+-0.36866096);
h2_1 = tanh(0.25884575*h1_0+0.0015031839*h1_1+0.49875405*h1_2+-0.3354553*h1_3+-0.015203566*h1_4+0.20656404*h1_5+0.007018528*h1_6+-0.26219884*h1_7+0.7116446*h1_8+-0.18769574*h1_9+0.112519585*h1_10+0.27626154*h1_11+0.33306417*h1_12+-0.31646922*h1_13+0.5908625*h1_14+0.38613233*h1_15+0.23547623*h1_16+-0.048099272*h1_17+0.14735106*h1_18+-0.79040945*h1_19+0.72399986*h1_20+-0.47772673*h1_21+0.12738478*h1_22+0.07495582*h1_23+0.23842259*h1_24+-0.17410396);
h2_2 = tanh(0.010614868*h1_0+0.23979965*h1_1+0.039573696*h1_2+-0.14338802*h1_3+-0.7688828*h1_4+-0.32172304*h1_5+-0.009249253*h1_6+0.49415657*h1_7+1.8233534*h1_8+-1.3876808*h1_9+0.5239517*h1_10+-0.20693739*h1_11+-0.70142466*h1_12+-0.22339658*h1_13+0.53262603*h1_14+0.1525827*h1_15+0.6002096*h1_16+0.3562258*h1_17+-0.271788*h1_18+-0.63677967*h1_19+0.77429646*h1_20+-0.29062137*h1_21+0.3784144*h1_22+-1.4468364*h1_23+0.19396177*h1_24+0.17432064);
h2_3 = tanh(0.26564485*h1_0+-0.39624378*h1_1+1.2620643*h1_2+-0.25171027*h1_3+-1.752203*h1_4+0.7236343*h1_5+0.006981614*h1_6+-0.44128188*h1_7+2.3381367*h1_8+0.5624816*h1_9+0.3612536*h1_10+-1.2938194*h1_11+-1.6487563*h1_12+-0.115808256*h1_13+1.4958602*h1_14+0.47691748*h1_15+0.6314546*h1_16+0.22776257*h1_17+-0.20667517*h1_18+-1.5889786*h1_19+1.7821167*h1_20+-0.2243636*h1_21+-0.06949269*h1_22+-1.7444465*h1_23+0.6809942*h1_24+0.2582744);
h2_4 = tanh(0.41232157*h1_0+0.18526089*h1_1+0.35156*h1_2+1.1196336*h1_3+0.29907572*h1_4+-0.21351597*h1_5+0.006451037*h1_6+-0.60153514*h1_7+-0.24894887*h1_8+-3.2030785*h1_9+-0.44307518*h1_10+-0.38348332*h1_11+-0.6252142*h1_12+-1.0843282*h1_13+0.6937242*h1_14+-0.27762264*h1_15+0.4691103*h1_16+-0.4368471*h1_17+0.15580034*h1_18+-0.2164023*h1_19+-0.7679978*h1_20+-0.37803847*h1_21+0.2640456*h1_22+-0.2690173*h1_23+-0.037426636*h1_24+-0.39675838);
h2_5 = tanh(0.10120633*h1_0+0.050050374*h1_1+-0.028944876*h1_2+0.046091087*h1_3+-0.12644885*h1_4+0.19641313*h1_5+-0.0028299957*h1_6+0.13249382*h1_7+-0.16052745*h1_8+-0.02156763*h1_9+0.03922698*h1_10+0.11877999*h1_11+0.05593109*h1_12+0.17322877*h1_13+0.20319328*h1_14+-0.4826925*h1_15+0.058094066*h1_16+-0.039622616*h1_17+0.05113664*h1_18+0.0800955*h1_19+-0.075046636*h1_20+-0.12971316*h1_21+0.18222226*h1_22+-0.17215574*h1_23+0.13590145*h1_24+-0.03973471);
h2_6 = tanh(-0.24066924*h1_0+-0.5760071*h1_1+0.08907909*h1_2+-0.54218644*h1_3+-0.9460508*h1_4+-0.5894858*h1_5+-0.011416313*h1_6+1.1486734*h1_7+1.9318682*h1_8+1.5148444*h1_9+-0.004908347*h1_10+0.77333343*h1_11+1.2531971*h1_12+0.91082364*h1_13+-1.5123212*h1_14+-0.32652313*h1_15+-0.8866271*h1_16+-0.03339201*h1_17+0.059861273*h1_18+-0.41488945*h1_19+1.2950497*h1_20+1.2058533*h1_21+-1.0440971*h1_22+-0.7161647*h1_23+-0.6104488*h1_24+0.70912457);
h2_7 = tanh(0.03074538*h1_0+0.3031708*h1_1+-0.2828743*h1_2+0.17690584*h1_3+1.0631769*h1_4+-0.3963551*h1_5+-0.010832825*h1_6+-1.1586177*h1_7+-1.6588447*h1_8+-1.0279992*h1_9+-0.19434741*h1_10+0.3104352*h1_11+0.3334324*h1_12+0.68168646*h1_13+0.3518507*h1_14+-0.6134015*h1_15+-0.27466753*h1_16+0.16218953*h1_17+-0.20275396*h1_18+1.1286677*h1_19+-1.2059548*h1_20+-0.056264378*h1_21+-0.5100322*h1_22+1.448351*h1_23+-0.41589963*h1_24+-0.1837579);
h2_8 = tanh(0.063926965*h1_0+0.0840332*h1_1+-0.4172343*h1_2+-0.34245518*h1_3+0.7764708*h1_4+-0.18331914*h1_5+-0.0022103516*h1_6+-0.069206074*h1_7+-1.4345737*h1_8+-0.63250345*h1_9+-0.008338051*h1_10+0.6298331*h1_11+0.62949365*h1_12+-0.15567963*h1_13+-0.07740324*h1_14+0.09784186*h1_15+0.14038199*h1_16+0.19479702*h1_17+-0.15629035*h1_18+0.7577676*h1_19+-0.48597783*h1_20+-0.034359135*h1_21+-0.12459198*h1_22+0.92895985*h1_23+0.16010652*h1_24+0.5191225);
h2_9 = tanh(0.54169744*h1_0+-0.3399775*h1_1+1.2893386*h1_2+-0.6121433*h1_3+-1.0717219*h1_4+0.39250538*h1_5+0.0033670694*h1_6+-0.46150962*h1_7+2.115248*h1_8+0.49196446*h1_9+0.026273662*h1_10+-1.0901607*h1_11+-1.8822197*h1_12+-0.610653*h1_13+1.8253194*h1_14+0.36052263*h1_15+0.81576097*h1_16+0.21939023*h1_17+-0.17640851*h1_18+-1.0356026*h1_19+1.5134803*h1_20+-0.23659962*h1_21+-0.10345183*h1_22+-1.2814455*h1_23+0.5025541*h1_24+-0.1820156);
h2_10 = tanh(0.80911803*h1_0+-0.22760087*h1_1+-0.5207854*h1_2+0.040204346*h1_3+-0.26798084*h1_4+-0.07402429*h1_5+0.0026453445*h1_6+-0.2968885*h1_7+-0.15806709*h1_8+0.10359503*h1_9+0.48667306*h1_10+-0.2749284*h1_11+-0.06694018*h1_12+-0.015707668*h1_13+-0.4816269*h1_14+-0.13515973*h1_15+-0.106149934*h1_16+-0.4332463*h1_17+0.19549015*h1_18+-0.14938056*h1_19+-0.4876762*h1_20+0.14591256*h1_21+0.050372694*h1_22+-0.16804646*h1_23+0.028583096*h1_24+-0.1552329);
h2_11 = tanh(0.96302587*h1_0+-1.1335737*h1_1+0.07194779*h1_2+-1.120372*h1_3+0.36640498*h1_4+-0.17337911*h1_5+-0.0009001578*h1_6+0.5331001*h1_7+-0.31117603*h1_8+0.8021333*h1_9+-0.24566656*h1_10+0.10316502*h1_11+0.12666737*h1_12+0.6009155*h1_13+-0.21278979*h1_14+-0.16295515*h1_15+0.21624413*h1_16+-0.2679793*h1_17+0.038756624*h1_18+0.101752*h1_19+-0.32824853*h1_20+0.6664367*h1_21+0.08439791*h1_22+0.5535306*h1_23+0.19933687*h1_24+-0.30081075);
y = -0.08347459*h2_0+0.075144514*h2_1+0.11375791*h2_2+-0.43146685*h2_3+-0.6897365*h2_4+0.0016038659*h2_5+-0.22961651*h2_6+0.07926313*h2_7+-0.27424115*h2_8+0.563128*h2_9+0.03955062*h2_10+0.109115064*h2_11+-0.12449597;


Id = pow(10, (y/normI + MinI))*W;
I(g, d) <+ Cgsd*ddt(Vg-Vd) ;
I(g, s) <+ Cgsd*ddt(Vg-Vs) ;

if (Vd >= Vs) begin
	I(d, s) <+ dir*Id;
end

else begin
	I(d, s) <+ dir*Id;
end

end
endmodule
