module dmode_verilogA (d, g, s);
inout d, g, s;
electrical d, g, s;

//****** Parameters L and W ********
parameter real W = 0.1;
parameter real Temperature = 25;
parameter MinVg = -6.0 ;
parameter normVg = 0.05555555555555555 ;
parameter MinVd = 0.05 ;
parameter normVd = 0.08368200836820085 ;
parameter MinTemperature = 25 ;
parameter normTemperature = 0.016666666666666666 ;
parameter MinI = -10.735666307432746 ;
parameter normI =0.16149346931261227;
real Vg, Vd, Vs, Vgs, Vds, Lg, Id, Cgg, Cgsd, Vgd;
real Vgsraw, Vgdraw, dir;

analog begin
	Vg = V(g);
	Vs = V(s);
	Vd = V(d);
    Vgsraw = Vg-Vs ;
    Vgdraw = Vg-Vd ;
if (Vgsraw>=Vgdraw) begin
	Vgs = ((Vg-Vs) - MinVg) * normVg ;
    dir = 1 ;
end
else begin
	Vgs = ((Vg-Vd) - MinVg) * normVg ;
    dir = -1 ;
end
	Vds = (abs(Vd-Vs) - MinVd) * normVd ;
    Temperature = (Temperature - MinTemperature) * normTemperature ;



h1_0 = tanh(0.9976089*Vgs+-0.24760985*Vds+0.022873467*temp+-0.12873732);
h1_1 = tanh(0.8221639*Vgs+2.5226614*Vds+-0.007268027*temp+-0.03863994);
h1_2 = tanh(1.1707091*Vgs+0.48484203*Vds+-0.14119895*temp+0.039603844);
h1_3 = tanh(0.54518807*Vgs+0.3979324*Vds+0.30505896*temp+-0.5512855);
h1_4 = tanh(-1.2532328*Vgs+-0.3305725*Vds+-0.01816382*temp+0.34564394);
h1_5 = tanh(-0.8725609*Vgs+0.8446058*Vds+-0.23958385*temp+0.1830989);
h1_6 = tanh(2.4888153*Vgs+-0.4112644*Vds+0.22927967*temp+-0.837928);
h1_7 = tanh(1.0840727*Vgs+2.185081*Vds+-0.028341254*temp+-0.21829753);
h1_8 = tanh(-0.21012458*Vgs+-0.5713321*Vds+-0.27498466*temp+0.2738884);
h1_9 = tanh(0.47952467*Vgs+0.27013692*Vds+0.19209683*temp+0.5546916);
h1_10 = tanh(-0.87707716*Vgs+0.06979385*Vds+-0.5005779*temp+0.41901743);
h1_11 = tanh(0.11304276*Vgs+-2.4116616*Vds+0.20372626*temp+-0.35454562);
h1_12 = tanh(-0.25881514*Vgs+-0.8815308*Vds+-0.031660154*temp+0.2120129);
h1_13 = tanh(1.4529289*Vgs+-0.5965607*Vds+-0.37477863*temp+0.052183114);
h1_14 = tanh(4.347979*Vgs+-0.14604501*Vds+0.15756777*temp+-0.801083);
h1_15 = tanh(0.13984764*Vgs+18.878603*Vds+0.022592478*temp+0.3728642);
h1_16 = tanh(0.016763227*Vgs+15.991358*Vds+-0.17135856*temp+0.31921571);
h1_17 = tanh(2.5259652*Vgs+0.5873686*Vds+-0.105938666*temp+-0.57505125);
h1_18 = tanh(-0.20004544*Vgs+-0.2851178*Vds+0.40473905*temp+-0.11280985);
h1_19 = tanh(0.49700347*Vgs+-2.8940842*Vds+-0.09215247*temp+-0.10343063);
h1_20 = tanh(0.4475108*Vgs+0.17655307*Vds+-1.4107318*temp+-0.51259273);
h1_21 = tanh(-1.3309202*Vgs+0.16106194*Vds+-0.23153555*temp+0.32195318);
h1_22 = tanh(1.9837692*Vgs+-0.23185757*Vds+-0.90823096*temp+-0.32912475);
h1_23 = tanh(1.4366255*Vgs+0.19422966*Vds+0.34447783*temp+-0.6541622);
h1_24 = tanh(1.3423688*Vgs+0.0390386*Vds+0.06485027*temp+-0.18511274);

h2_0 = tanh(-0.1540546*h1_0+-0.2500895*h1_1+-0.5755974*h1_2+1.2174103*h1_3+0.053568047*h1_4+0.20676*h1_5+0.23580332*h1_6+-0.24611975*h1_7+-0.060407903*h1_8+-0.8094061*h1_9+-0.37355626*h1_10+0.24400564*h1_11+-0.4830622*h1_12+-0.16541977*h1_13+-0.10506056*h1_14+-0.8338365*h1_15+-0.11923366*h1_16+0.10455061*h1_17+-0.15928058*h1_18+-0.11890178*h1_19+-0.30494753*h1_20+0.03516639*h1_21+0.073021*h1_22+0.6572951*h1_23+-0.34289712*h1_24+-0.85553527);
h2_1 = tanh(0.49724227*h1_0+0.744559*h1_1+0.085278235*h1_2+0.20180966*h1_3+-0.6945361*h1_4+-0.39975548*h1_5+0.9471319*h1_6+0.664431*h1_7+-0.105670266*h1_8+-0.12616362*h1_9+-0.10141576*h1_10+-0.2890236*h1_11+0.16932306*h1_12+-0.008560958*h1_13+-0.027050376*h1_14+0.12733956*h1_15+0.3801854*h1_16+0.82605463*h1_17+-0.41417262*h1_18+0.34458354*h1_19+0.016707992*h1_20+-0.66508436*h1_21+0.16623309*h1_22+0.6558587*h1_23+0.3007959*h1_24+-0.049404304);
h2_2 = tanh(-0.2228996*h1_0+-0.7101785*h1_1+-0.47041437*h1_2+-0.52162755*h1_3+0.59176606*h1_4+-0.10563999*h1_5+-0.6603572*h1_6+-1.2540624*h1_7+0.6879669*h1_8+-0.29325762*h1_9+-0.13276231*h1_10+0.15888023*h1_11+1.2712435*h1_12+0.065372676*h1_13+-0.18258105*h1_14+-0.4113765*h1_15+-0.774202*h1_16+-0.38299283*h1_17+-0.2962507*h1_18+0.50898033*h1_19+0.03485767*h1_20+0.2472106*h1_21+-0.4283376*h1_22+-0.6676288*h1_23+-0.40888682*h1_24+0.09645622);
h2_3 = tanh(0.11489468*h1_0+0.09616749*h1_1+0.30667683*h1_2+0.1782837*h1_3+0.24026413*h1_4+0.399065*h1_5+0.31993172*h1_6+0.4176808*h1_7+-0.20833477*h1_8+-0.41092002*h1_9+-0.054579582*h1_10+-0.4575197*h1_11+-0.007929677*h1_12+-0.05818205*h1_13+-0.4167067*h1_14+-0.055970125*h1_15+0.14945231*h1_16+-0.1023989*h1_17+0.0688763*h1_18+-0.8136283*h1_19+-0.037507113*h1_20+-0.33419985*h1_21+-0.002607054*h1_22+-0.027092097*h1_23+0.11409387*h1_24+-0.09028901);
h2_4 = tanh(-1.1034523*h1_0+-0.65269554*h1_1+-0.7161371*h1_2+-0.7927308*h1_3+1.2795833*h1_4+0.618415*h1_5+-2.3749309*h1_6+-0.32327357*h1_7+0.30992717*h1_8+-0.3642737*h1_9+1.1590227*h1_10+0.013653057*h1_11+0.21074785*h1_12+-0.40425622*h1_13+-3.6476157*h1_14+-0.47805977*h1_15+-0.28562847*h1_16+-2.209095*h1_17+-0.25232762*h1_18+-0.5735169*h1_19+-0.8245012*h1_20+1.662885*h1_21+-1.5799922*h1_22+-1.1119744*h1_23+-1.854245*h1_24+-0.07704776);
h2_5 = tanh(-0.7147954*h1_0+-0.13325202*h1_1+-0.30113736*h1_2+-0.7697684*h1_3+0.9427707*h1_4+0.5543583*h1_5+-2.0681257*h1_6+-0.6352524*h1_7+0.35773525*h1_8+-0.03304849*h1_9+0.9844342*h1_10+-0.18633217*h1_11+0.25032985*h1_12+-0.59865516*h1_13+-2.9802263*h1_14+-0.6482642*h1_15+0.04456504*h1_16+-1.7907757*h1_17+-0.17389295*h1_18+-0.23456296*h1_19+-0.5740117*h1_20+1.2633686*h1_21+-1.4000989*h1_22+-0.9736999*h1_23+-1.3439696*h1_24+-0.053581342);
h2_6 = tanh(-0.24460086*h1_0+0.9766023*h1_1+-0.052800633*h1_2+0.23047088*h1_3+-0.041453212*h1_4+0.56152105*h1_5+-0.14712417*h1_6+0.8623725*h1_7+-0.2433575*h1_8+0.45709246*h1_9+0.17109567*h1_10+-0.50612026*h1_11+0.040114*h1_12+-0.034459673*h1_13+-0.36289236*h1_14+0.89101106*h1_15+1.6482493*h1_16+0.06225149*h1_17+0.13081616*h1_18+-0.7245374*h1_19+-0.20630641*h1_20+0.08688236*h1_21+-0.24902706*h1_22+-0.12008686*h1_23+0.019512104*h1_24+0.084556825);
h2_7 = tanh(-0.15826617*h1_0+-0.061126683*h1_1+-0.55079454*h1_2+-0.046556335*h1_3+0.0053276117*h1_4+0.21430013*h1_5+-0.28390896*h1_6+-0.42819571*h1_7+0.7904293*h1_8+-0.40952626*h1_9+-0.16180207*h1_10+0.30091354*h1_11+0.46495947*h1_12+-0.5336548*h1_13+-1.0582296*h1_14+-0.15149653*h1_15+0.34849873*h1_16+-0.08023658*h1_17+-0.23583168*h1_18+-0.0055393665*h1_19+0.011731481*h1_20+0.17797151*h1_21+-0.2851664*h1_22+-0.3247628*h1_23+0.00740769*h1_24+-0.30628404);
h2_8 = tanh(-0.59181726*h1_0+-0.31336313*h1_1+-0.5971674*h1_2+-0.66797215*h1_3+0.8254528*h1_4+0.3090318*h1_5+-2.4305406*h1_6+0.05896538*h1_7+-0.19001092*h1_8+0.018960683*h1_9+0.1265693*h1_10+-0.15160835*h1_11+-0.06686886*h1_12+-0.589253*h1_13+-0.4164324*h1_14+-0.13105889*h1_15+0.09700032*h1_16+-1.755099*h1_17+0.19472699*h1_18+-0.44974115*h1_19+-0.51001114*h1_20+0.45243257*h1_21+-0.08320753*h1_22+-0.4565299*h1_23+-0.7512429*h1_24+0.035838254);
h2_9 = tanh(-0.1699689*h1_0+0.7709493*h1_1+0.068383306*h1_2+0.72477084*h1_3+-0.6486091*h1_4+-0.22738916*h1_5+0.13399835*h1_6+1.0100765*h1_7+-0.21590328*h1_8+-0.3157395*h1_9+-0.040212363*h1_10+-0.2775355*h1_11+-0.7977539*h1_12+-0.13053969*h1_13+0.440059*h1_14+0.8181547*h1_15+0.90791976*h1_16+0.44385776*h1_17+-0.13766073*h1_18+-0.4597617*h1_19+0.048435565*h1_20+-0.1834781*h1_21+0.13543874*h1_22+0.68761116*h1_23+0.006975539*h1_24+-0.3004163);
h2_10 = tanh(-0.29210958*h1_0+-0.19112827*h1_1+0.16329917*h1_2+0.38981962*h1_3+-0.09780373*h1_4+0.03666393*h1_5+0.39082307*h1_6+0.19045405*h1_7+-0.023257922*h1_8+0.11118221*h1_9+0.15649687*h1_10+0.14784583*h1_11+-0.6123414*h1_12+0.24878645*h1_13+0.2718597*h1_14+0.7180538*h1_15+0.4710327*h1_16+0.52825624*h1_17+0.07840185*h1_18+-0.48552895*h1_19+-0.18113114*h1_20+-0.21593896*h1_21+0.060936045*h1_22+0.23319095*h1_23+-0.0367206*h1_24+0.39392307);
h2_11 = tanh(-0.37136564*h1_0+-0.41893315*h1_1+-0.023169015*h1_2+0.4356418*h1_3+-0.53632915*h1_4+0.5983367*h1_5+0.28543264*h1_6+-0.2693158*h1_7+-0.26231974*h1_8+-0.030299949*h1_9+-0.2614896*h1_10+-0.23992728*h1_11+-0.49993956*h1_12+-0.25960392*h1_13+-0.66943467*h1_14+0.009329317*h1_15+0.21491408*h1_16+-0.19473884*h1_17+-0.27352342*h1_18+-0.09173044*h1_19+-0.4507748*h1_20+0.04568289*h1_21+0.062976345*h1_22+0.05716157*h1_23+0.3146652*h1_24+-0.09910532);
y = 0.45425513*h2_0+-0.26090038*h2_1+0.31625578*h2_2+0.11418656*h2_3+0.30987972*h2_4+-0.5311605*h2_5+0.70732856*h2_6+-0.30859834*h2_7+-0.26847345*h2_8+0.3609525*h2_9+-0.27260354*h2_10+0.05658131*h2_11+0.25908118;


Id = pow(10, (y/normI + MinI))*W;
I(g, d) <+ Cgsd*ddt(Vg-Vd) ;
I(g, s) <+ Cgsd*ddt(Vg-Vs) ;

if (Vd >= Vs) begin
	I(d, s) <+ dir*Id;
end

else begin
	I(d, s) <+ dir*Id;
end

end
endmodule
